# Αναφορά Κάλυψης Κώδικα: Κλάση `Counteroffer`

## Εισαγωγή
Η κλάση `Counteroffer` χρησιμοποιείται για τη διαχείριση των αντιπροσφορών που γίνονται στο πλαίσιο μιας ανταλλαγής στην εφαρμογή xChange. Περιλαμβάνει πληροφορίες για το αρχικό αίτημα (`Request`), τον χρήστη που κάνει την αντιπροσφορά (`counterofferer`), τον χρήστη που τη δέχεται (`counterofferee`), καθώς και τα αντικείμενα που προσφέρονται και ζητούνται. Κάθε αντιπροσφορά έχει μοναδικό αναγνωριστικό (`counteroffer_id`), μήνυμα και κατάσταση (`active`).

Παρακάτω ακολουθεί αναλυτική αναφορά της κάλυψης του κώδικα για τη συγκεκριμένη κλάση, περιλαμβάνοντας τα πεδία, τις μεθόδους και τα JUnit tests που καλύπτουν τη συμπεριφορά της κλάσης.

## Πεδία και Μεταβλητές
1. **`request`** (Request): Το αρχικό αίτημα ανταλλαγής που σχετίζεται με την αντιπροσφορά.
    - **Κάλυψη:** Ελέγχουμε ότι το `request` έχει οριστεί σωστά κατά την αρχικοποίηση της κλάσης μέσω του constructor και ότι δεν μπορεί να είναι `null`.

2. **`offered_item`** (Item): Το αντικείμενο που προσφέρει ο χρήστης που κάνει την αντιπροσφορά.
    - **Κάλυψη:** Ελέγχουμε ότι το `offered_item` έχει οριστεί σωστά κατά την αρχικοποίηση και μπορεί να ενημερωθεί με τη μέθοδο `setOfferedItem()`.

3. **`requested_item`** (Item): Το αντικείμενο που ζητά ο χρήστης που κάνει την αντιπροσφορά.
    - **Κάλυψη:** Ελέγχουμε ότι το `requested_item` έχει οριστεί σωστά κατά την αρχικοποίηση και μπορεί να ενημερωθεί με τη μέθοδο `setRequestedItem()`.

4. **`counterofferer`** (xChanger): Ο χρήστης που κάνει την αντιπροσφορά.
    - **Κάλυψη:** Ελέγχουμε ότι το `counterofferer` έχει οριστεί σωστά κατά την αρχικοποίηση.

5. **`counterofferee`** (xChanger): Ο χρήστης που δέχεται την αντιπροσφορά.
    - **Κάλυψη:** Ελέγχουμε ότι το `counterofferee` έχει οριστεί σωστά κατά την αρχικοποίηση.

6. **`counteroffer_id`** (Long): Μοναδικό αναγνωριστικό για κάθε αντιπροσφορά, το οποίο προέρχεται από το αρχικό αίτημα.
    - **Κάλυψη:** Ελέγχουμε ότι το `counteroffer_id` ορίζεται σωστά από το `requestID` του αρχικού αιτήματος.

7. **`message`** (String): Το μήνυμα που συνοδεύει την αντιπροσφορά.
    - **Κάλυψη:** Ελέγχουμε ότι το `message` έχει οριστεί σωστά κατά την αρχικοποίηση και μπορεί να ενημερωθεί με τη μέθοδο `setMessage()`. Το `message` δεν μπορεί να είναι `null` ή κενό.

8. **`active`** (Boolean): Κατάσταση της αντιπροσφοράς (ενεργή ή μη ενεργή).
    - **Κάλυψη:** Ελέγχουμε ότι η αντιπροσφορά αρχικοποιείται ως ενεργή και μπορεί να αλλάξει κατάσταση με τη μέθοδο `make_unactive()`.

## Μέθοδοι
### 1. Constructor `Counteroffer(Request request, String message, Item item)`
- **Λειτουργία:** Δημιουργεί ένα νέο αντικείμενο `Counteroffer` με συγκεκριμένα χαρακτηριστικά όπως το αρχικό αίτημα (`request`), το μήνυμα (`message`), και το αντικείμενο που προσφέρεται (`offered_item`).
- **JUnit Test Κάλυψης:**
    - Έλεγχος της σωστής αρχικοποίησης όλων των πεδίων.
    - Έλεγχος ότι το `request` και το `offered_item` δεν μπορεί να είναι `null`.

### 2. Μέθοδοι `getRequest()`, `getOfferedItem()`, `getRequestedItem()`, `getCounterofferer()`, `getCounterofferee()`, `getCounterofferID()`, `getMessage()`, `isActive()`
- **Λειτουργία:** Επιστρέφουν τις αντίστοιχες πληροφορίες της αντιπροσφοράς.
- **JUnit Test Κάλυψης:**
    - Έλεγχος ότι οι μέθοδοι επιστρέφουν σωστά τις αρχικές τιμές που δόθηκαν κατά την αρχικοποίηση.

### 3. Μέθοδοι `setRequestedItem(Item requested_item)`, `setOfferedItem(Item offered_item)`, `setMessage(String message)`
- **Λειτουργία:** Αλλάζουν τις αντίστοιχες πληροφορίες της αντιπροσφοράς.
- **JUnit Test Κάλυψης:**
    - Έλεγχος ότι οι τιμές αλλάζουν σωστά μετά την κλήση των μεθόδων.
    - Έλεγχος ότι οι νέες τιμές επιστρέφονται σωστά από τις αντίστοιχες `get` μεθόδους.
    - Έλεγχος ότι η μέθοδος `setMessage()` δεν δέχεται `null` ή κενό μήνυμα.

### 4. Μέθοδος `addToLists()`
- **Λειτουργία:** Προσθέτει την αντιπροσφορά στις λίστες αντιπροσφορών του `counterofferer` και του `counterofferee`.
- **JUnit Test Κάλυψης:**
    - Έλεγχος ότι η αντιπροσφορά προστίθεται σωστά στις λίστες αντιπροσφορών των χρηστών.

### 5. Μέθοδος `make_unactive()`
- **Λειτουργία:** Θέτει την αντιπροσφορά ως μη ενεργή.
- **JUnit Test Κάλυψης:**
    - Έλεγχος ότι η αντιπροσφορά τίθεται σε μη ενεργή κατάσταση μετά την κλήση της μεθόδου.

## Κάλυψη Τεστ (JUnit)
Για να διασφαλίσουμε πλήρη κάλυψη κώδικα της κλάσης `Counteroffer`, προτείνουμε τα παρακάτω JUnit tests:

1. **Αρχικοποίηση Αντιπροσφοράς**
    - Έλεγχος της σωστής αρχικοποίησης όλων των πεδίων (`request`, `offered_item`, `requested_item`, `counterofferer`, `counterofferee`, `counteroffer_id`, `message`, `active`).
    - Έλεγχος ότι τα πεδία `request` και `offered_item` δεν μπορεί να είναι `null`.

2. **Λήψη Στοιχείων Αντιπροσφοράς (`get` Μέθοδοι)**
    - Έλεγχος των μεθόδων `getRequest()`, `getOfferedItem()`, `getRequestedItem()`, `getCounterofferer()`, `getCounterofferee()`, `getCounterofferID()`, `getMessage()`, `isActive()` για την επιστροφή των σωστών τιμών.

3. **Αλλαγή Στοιχείων Αντιπροσφοράς (`set` Μέθοδοι)**
    - Έλεγχος των μεθόδων `setRequestedItem()`, `setOfferedItem()`, `setMessage()` για τη σωστή αλλαγή των τιμών.
    - Έλεγχος ότι οι αλλαγές αντικατοπτρίζονται σωστά στις `get` μεθόδους.
    - Έλεγχος ότι η μέθοδος `setMessage()` δεν δέχεται `null` ή κενό μήνυμα.

4. **Προσθήκη Αντιπροσφοράς στη Λίστα Χρηστών (`addToLists()`)**
    - Έλεγχος ότι η αντιπροσφορά προστίθεται σωστά στις λίστες των αντιπροσφορών του `counterofferer` και του `counterofferee`.

5. **Κατάσταση Αντιπροσφοράς (`make_unactive()`)**
    - Έλεγχος της αλλαγής κατάστασης με τη μέθοδο `make_unactive()`.

6. **Έλεγχος Εξαιρέσεων**
    - Έλεγχος ότι δημιουργείται εξαίρεση όταν το `request` ή το `offered_item` είναι `null`.
    - Έλεγχος ότι δημιουργείται εξαίρεση όταν το `message` είναι `null` ή κενό.

## Συμπέρασμα
Η κλάση `Counteroffer` παρέχει τις βασικές λειτουργίες για τη διαχείριση των αντιπροσφορών στην εφαρμογή xChange, συμπεριλαμβανομένης της δημιουργίας, της διαχείρισης της κατάστασης, και της αποθήκευσης αντιπροσφορών. Η πλήρης κάλυψη κώδικα απαιτεί τον έλεγχο της σωστής αρχικοποίησης, της διαχείρισης των χαρακτηριστικών της αντιπροσφοράς, και της δυνατότητας αλλαγής τους. Τα προτεινόμενα JUnit tests διασφαλίζουν την ορθή λειτουργία και ασφάλεια της κλάσης, καλύπτοντας όλες τις πιθανές περιπτώσεις χρήσης της.

