# Αναφορά Κάλυψης Κώδικα: Κλάση `xChanger`

## Εισαγωγή
Η κλάση `xChanger` είναι μια υποκλάση της κλάσης `User` και χρησιμοποιείται για τη διαχείριση των χρηστών που πραγματοποιούν ανταλλαγές στην εφαρμογή xChange. Περιλαμβάνει λειτουργίες για την αξιολόγηση, τη διαχείριση των αντικειμένων, τις αιτήσεις ανταλλαγής (`requests`), τις αντιπροσφορές (`counterOffers`), καθώς και την καταγραφή επιτυχημένων και αποτυχημένων συναλλαγών. Η κλάση αυτή επίσης διαχειρίζεται την εγγραφή και σύνδεση των χρηστών της εφαρμογής.

Παρακάτω ακολουθεί αναλυτική αναφορά της κάλυψης του κώδικα για τη συγκεκριμένη κλάση, περιλαμβάνοντας τα πεδία, τις μεθόδους και τα JUnit tests που καλύπτουν τη συμπεριφορά της κλάσης.

## Πεδία και Μεταβλητές
1. **`nextId`** (Long): Στατικό πεδίο που χρησιμοποιείται για την αυτόματη αύξηση του ID κάθε νέου χρήστη `xChanger`.
    - **Κάλυψη:** Ελέγχουμε ότι το `nextId` αυξάνεται σωστά με κάθε νέο αντικείμενο `xChanger` που δημιουργείται.

2. **`sumOfratings`** (Float): Το άθροισμα των αξιολογήσεων που έχει λάβει ο χρήστης.
    - **Κάλυψη:** Ελέγχουμε τη σωστή ενημέρωση του `sumOfratings` όταν προστίθεται νέα αξιολόγηση.

3. **`numOfratings`** (int): Ο αριθμός των αξιολογήσεων που έχει λάβει ο χρήστης.
    - **Κάλυψη:** Ελέγχουμε τη σωστή αύξηση του `numOfratings` κάθε φορά που προστίθεται νέα αξιολόγηση.

4. **`rating`** (float): Η μέση αξιολόγηση του χρήστη.
    - **Κάλυψη:** Ελέγχουμε ότι η μέση αξιολόγηση ενημερώνεται σωστά μετά από κάθε νέα αξιολόγηση.

5. **`reports`** (ArrayList<String>): Λίστα αναφορών κατά του χρήστη.
    - **Κάλυψη:** Ελέγχουμε ότι οι αναφορές προστίθενται σωστά στη λίστα.

6. **`items`** (ArrayList<Item>): Λίστα με τα αντικείμενα του χρήστη.
    - **Κάλυψη:** Ελέγχουμε την προσθήκη, διαγραφή και λήψη αντικειμένων από τη λίστα.

7. **`requests`** (ArrayList<Request>): Λίστα με τις αιτήσεις ανταλλαγής του χρήστη.
    - **Κάλυψη:** Ελέγχουμε ότι οι αιτήσεις προστίθενται και λαμβάνονται σωστά.

8. **`counterOffers`** (ArrayList<Counteroffer>): Λίστα με τις αντιπροσφορές του χρήστη.
    - **Κάλυψη:** Ελέγχουμε ότι οι αντιπροσφορές προστίθενται και λαμβάνονται σωστά.

9. **`finalized`** (ArrayList<xChange>): Λίστα με τις ολοκληρωμένες συναλλαγές του χρήστη.
    - **Κάλυψη:** Ελέγχουμε ότι οι συναλλαγές προστίθενται στη λίστα όταν ολοκληρώνονται.

10. **`succeed_Deals`** (int): Ο αριθμός των επιτυχημένων συναλλαγών του χρήστη.
    - **Κάλυψη:** Ελέγχουμε ότι ο αριθμός αυξάνεται σωστά μετά από κάθε επιτυχημένη συναλλαγή.

11. **`failed_Deals`** (int): Ο αριθμός των αποτυχημένων συναλλαγών του χρήστη.
    - **Κάλυψη:** Ελέγχουμε ότι ο αριθμός αυξάνεται σωστά μετά από κάθε αποτυχημένη συναλλαγή.

## Μέθοδοι
### 1. Constructor `xChanger(String username, String email, SimpleCalendar join_date, String password, String location)`
- **Λειτουργία:** Δημιουργεί ένα νέο αντικείμενο `xChanger` με συγκεκριμένα χαρακτηριστικά όπως το όνομα χρήστη, το email, την ημερομηνία εγγραφής, κλπ.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της σωστής αρχικοποίησης όλων των πεδίων.

### 2. Μέθοδος `login(String username, String password)`
- **Λειτουργία:** Επιτρέπει στον χρήστη να συνδεθεί αν τα διαπιστευτήρια είναι σωστά.
- **JUnit Test Κάλυψης:**
    - Έλεγχος επιτυχούς και αποτυχημένης σύνδεσης.

### 3. Μέθοδος `register(User user)`
- **Λειτουργία:** Εγγράφει έναν νέο χρήστη αν δεν υπάρχει ήδη με το ίδιο `username` ή `email`.
- **JUnit Test Κάλυψης:**
    - Έλεγχος επιτυχούς και αποτυχημένης εγγραφής για διπλότυπο χρήστη.

### 4. Μέθοδος `setRating(Float rating)`
- **Λειτουργία:** Ενημερώνει την αξιολόγηση του χρήστη.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της ενημέρωσης του `rating` μετά από πολλαπλές αξιολογήσεις.

### 5. Μέθοδος `UploadItem(String item_name, String item_description, String item_category, String item_condition, ArrayList<Image> item_images)`
- **Λειτουργία:** Προσθέτει ένα νέο αντικείμενο στη λίστα των αντικειμένων του χρήστη.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της προσθήκης ενός αντικειμένου στη λίστα.

### 6. Μέθοδος `deleteItem(Item item_for_deletion)`
- **Λειτουργία:** Διαγράφει ένα αντικείμενο από τη λίστα των αντικειμένων του χρήστη.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της διαγραφής ενός αντικειμένου από τη λίστα.

### 7. Μέθοδος `RequestItem(xChanger xchanger2, Item offered_item, Item requested_item)`
- **Λειτουργία:** Δημιουργεί ένα νέο αίτημα ανταλλαγής.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της δημιουργίας ενός αιτήματος και της προσθήκης του στη λίστα αιτημάτων του χρήστη.

### 8. Μέθοδος `acceptRequest(Request request)`
- **Λειτουργία:** Αποδέχεται ένα αίτημα ανταλλαγής και αυξάνει τον αριθμό των επιτυχημένων συναλλαγών.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της αποδοχής ενός αιτήματος και της ενημέρωσης των επιτυχημένων συναλλαγών.

### 9. Μέθοδος `rejectRequest(Request request)`
- **Λειτουργία:** Απορρίπτει ένα αίτημα ανταλλαγής και αυξάνει τον αριθμό των αποτυχημένων συναλλαγών.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της απόρριψης ενός αιτήματος και της ενημέρωσης των αποτυχημένων συναλλαγών.

### 10. Μέθοδος `counterOffer(Item item, String message, Request request)`
- **Λειτουργία:** Δημιουργεί μια αντιπροσφορά για ένα υπάρχον αίτημα ανταλλαγής.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της δημιουργίας μιας αντιπροσφοράς και της προσθήκης της στις λίστες αντιπροσφορών των χρηστών.

### 11. Μέθοδος `report(xChanger xchanger, String message, xChange finalized)`
- **Λειτουργία:** Δημιουργεί μια αναφορά για έναν χρήστη και την προσθέτει στη λίστα των αναφορών.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της δημιουργίας αναφοράς και της προσθήκης της στη λίστα.

### 12. Μέθοδος `acceptCounteroffer(Counteroffer counteroffer)`
- **Λειτουργία:** Αποδέχεται μια αντιπροσφορά και αυξάνει τον αριθμό των επιτυχημένων συναλλαγών.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της αποδοχής μιας αντιπροσφοράς και της ενημέρωσης των επιτυχημένων συναλλαγών.

### 13. Μέθοδος `rejectCounteroffer(Counteroffer counteroffer)`
- **Λειτουργία:** Απορρίπτει μια αντιπροσφορά και αυξάνει τον αριθμό των αποτυχημένων συναλλαγών.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της απόρριψης μιας αντιπροσφοράς και της ενημέρωσης των αποτυχημένων συναλλαγών.

### 14. Μέθοδος `getItem(Item item_to_get)`
- **Λειτουργία:** Επιστρέφει ένα αντικείμενο από τη λίστα των αντικειμένων του χρήστη αν υπάρχει.
- **JUnit Test Κάλυψης:**
    - Έλεγχος της λήψης ενός αντικειμένου από τη λίστα.

## Κάλυψη Τεστ (JUnit)
Για να διασφαλίσουμε πλήρη κάλυψη κώδικα της κλάσης `xChanger`, προτείνουμε τα παρακάτω JUnit tests:

1. **Αρχικοποίηση Χρήστη `xChanger`**
    - Έλεγχος της σωστής αρχικοποίησης όλων των πεδίων.

2. **Σύνδεση Χρήστη (`login`)**
    - Έλεγχος επιτυχούς και αποτυχημένης σύνδεσης.

3. **Εγγραφή Χρήστη (`register`)**
    - Έλεγχος επιτυχούς και αποτυχημένης εγγραφής για διπλότυπο χρήστη.

4. **Διαχείριση Αξιολόγησης (`setRating`)**
    - Έλεγχος της ενημέρωσης του `rating` μετά από πολλαπλές αξιολογήσεις.

5. **Προσθήκη/Διαγραφή Αντικειμένων (`UploadItem`, `deleteItem`)**
    - Έλεγχος της προσθήκης και διαγραφής αντικειμένων από τη λίστα.

6. **Ανταλλαγές (`RequestItem`, `acceptRequest`, `rejectRequest`)**
    - Έλεγχος της δημιουργίας, αποδοχής και απόρριψης αιτήσεων ανταλλαγής.

7. **Αντιπροσφορές (`counterOffer`, `acceptCounteroffer`, `rejectCounteroffer`)**
    - Έλεγχος της δημιουργίας, αποδοχής και απόρριψης αντιπροσφορών.

8. **Αναφορές (`report`)**
    - Έλεγχος της δημιουργίας αναφοράς και της προσθήκης της στη λίστα.

9. **Λήψη Αντικειμένων (`getItem`)**
    - Έλεγχος της λήψης αντικειμένων από τη λίστα.

## Συμπέρασμα
Η κλάση `xChanger` παρέχει τις βασικές λειτουργίες για τη διαχείριση των χρηστών που πραγματοποιούν ανταλλαγές στην εφαρμογή xChange. Η πλήρης κάλυψη κώδικα απαιτεί τον έλεγχο της σωστής αρχικοποίησης, της διαχείρισης αντικειμένων και αιτήσεων, της δημιουργίας αντιπροσφορών, καθώς και της καταγραφής επιτυχημένων και αποτυχημένων συναλλαγών. Τα προτεινόμενα JUnit tests διασφαλίζουν την ορθή λειτουργία και ασφάλεια της κλάσης, καλύπτοντας όλες τις πιθανές περιπτώσεις χρήσης της.

